# 리액트의 reconciliation

#### 1. 리액트 reconciliation에 대해 설명해보시오

> 리액트의 reconciliation이란 Virtual DOM을 활용하여 변경된 부분만 효율적으로 DOM에 업데이트 하는 과정입니다. 리액트는 컴포넌트의 상태 혹은 속성이 변경되면 새로운 Virtual DOM을 생성하여 기존의 Virtual DOM과 diffing 알고리즘을 적용해 비교합니다. 이를 통해 변경된 부분만 실제 DOM에 반영합니다.

1. 동일한 컴포넌트 트리를 유지하려고 시도합니다.

- 동일한 컴포넌트 타입이면 기존 노드를 재사용하고, 다르면 새로운 노드로 교체합니다.

2. key 값을 이용하여 리스트 항목을 최적화 합니다.

- key 값이 변경되면 기존 요소를 제거하고 새로운 요소로 다시 생성합니다.

#### 2. reconciliation이 발생하는 주요 조건

> 1. State가 변경 될 때 > 컴포넌트가 리렌더링 되며 Virtual DOM이 새로 생성
> 2. props가 변경 될 때 > 부모 컴포넌트에서 전달 된 props가 변경되면 자식 컴포넌트도 재렌더링
> 3. key가 변경 될 때 > 리스트에서 key가 변경되면 이를 새로운 요소로 간주하고 다시 생성

#### 3. VDOM에서 diffing 알고리즘

1. 이전 VDOM 트리와 새로운 VDOM 트리를 비교
2. 루트 노드에서 시작하여 이전과 새로운 노드와 비교
3. 두 노드가 다른 유형이면 새 노드를 만들어 기존 노드를 대체
4. 두 노드가 같은 유형이면 속성을 비교하여 변경된 것이 있는 지 확인

- 4-1. 변경된 속성이 없으면 사용
- 4-1. 변경된 속성이 있으면 해당 속성을 업데이트

5. 자식 노드를 재귀적으로 비교
